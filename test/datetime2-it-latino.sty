\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{datetime2-it-latino}[2015/05/10 v1.0]
\DeclareOption*{\PassOptionsToPackage{\CurrentOption}{datetime2}}
\ProcessOptions
\RequirePackage{datetime2}
\RequirePackage{itnumpar}
%\RequirePackage{ifxetex,ifluatex}
%\ifxetex
%\RequireDateTimeModule{latino-utf8}
%\else
%\ifluatex
%\RequireDateTimeModule{latino-utf8}
%\else
%\RequireDateTimeModule{latino-ascii}
%\fi
%\fi
%\def\CurrentTrackedDialect{italian}
%\RequireDateTimeModule{italian}
%\undef\CurrentTrackedDialect
\newcommand*\DTMitfulltextmonthyearsep{,\space}
\newcommand*{\DTMlatinoMensis}[1]{%
	\ifcase#1
	\or
	Ianuarius%
	\or
	Februarius%
	\or
	Martius%
	\or
	Aprilis%
	\or
	Maius%
	\or
	Iunius%
	\or
	Quintilis%
	\or
	Sextilis%
	\or
	Septemper%
	\or
	October%
	\or
	November%
	\or
	December%
	\fi
}
\newcommand*{\DTMlatinoMensisDurata}[1]{%
	\ifcase#1
	\or
	31%
	\or
	28%
	\or
	31%
	\or
	30%
	\or
	31%
	\or
	30%
	\or
	31%
	\or
	31%
	\or
	30%
	\or
	31%
	\or
	30%
	\or
	31%
	\fi
}
\newcommand*{\DTMlatinoNonae}[1]{%
	\ifcase#1
	\or
	5%
	\or
	5%
	\or
	7%
	\or
	5%
	\or
	7%
	\or
	5%
	\or
	7%
	\or
	5%
	\or
	5%
	\or
	7%
	\or
	5%
	\or
	5%
	\fi
}
\newcommand*{\DTMlatinoNonaeNome}[1]{%
	\ifcase#1
	\or
nonis ianuariis%
\or
nonis februariis%
\or
nonis martiis%
\or
nonis aprilibus%
\or
nonis maiis%
\or
nonis iuniis%
\or
nonis quintilibus%
\or
nonis sextilibus%
\or
nonis septembribus%
\or
nonis octobribus%
\or
nonis nouembribus%
\or
nonis decembribus%
	\fi
}
\newcommand*{\DTMlatinoPridieNonae}[1]{%
	\ifcase#1
	\or
	4%
	\or
	4%
	\or
	6%
	\or
	4%
	\or
	6%
	\or
	4%
	\or
	6%
	\or
	4%
	\or
	4%
	\or
	6%
	\or
	4%
	\or
	4%
	\fi
}
\newcommand*{\DTMlatinoPridieNonaeNome}[1]{%
	\ifcase#1
	\or
pridie nonas ianuarias%
\or
pridie nonas februarias%
\or
pridie nonas martias%
\or
pridie nonas apriles%
\or
pridie nonas maias%
\or
pridie nonas iunias%
\or
pridie nonas quintiles%
\or
pridie nonas sextiles%
\or
pridie nonas septembres%
\or
pridie nonas octobres%
\or
pridie nonas nouembres%
\or
pridie nonas decembres%
	\fi
}
\newcommand*{\DTMlatinoIdus}[1]{%
	\ifcase#1
	\or
	13%Ianuarius%
	\or
	13%Februarius%
	\or
	15%Martius%
	\or
	13%Aprilis%
	\or
	15%Maius%
	\or
	13%Iunius%
	\or
	15%Iulius%
	\or
	13%Augustus%
	\or
	13%Septemper%
	\or
	15%October%
	\or
	13%November%
	\or
	13%December%
	\fi
}
\newcommand*{\DTMlatinoIdusNome}[1]{%
	\ifcase#1
	\or
idibus ianuariis%
\or
idibus februariis%
\or
idibus martiis%
\or
idibus aprilibus%
\or
idibus maiis%
\or
idibus iuniis%
\or
idibus quintilibus%
\or
idibus sextilibus%
\or
idibus septembribus%
\or
idibus octobribus%
\or
idibus nouembribus%
\or
idibus decembribus%
	\fi
}

\newcommand*{\DTMlatinoPridieIdus}[1]{%
	\ifcase#1
	\or
	12%Ianuarius%
	\or
	12%Februarius%
	\or
	14%Martius%
	\or
	12%Aprilis%
	\or
	14%Maius%
	\or
	12%Iunius%
	\or
	14%Iulius%
	\or
	12%Augustus%
	\or
	12%Septemper%
	\or
	14%October%
	\or
	12%November%
	\or
	12%December%
	\fi
}
\newcommand*{\DTMlatinoPridieIdusNome}[1]{%
	\ifcase#1
\or
pridie idus ianuarias%
\or
pridie idus februarias%
\or
pridie idus martias%
\or
pridie idus apriles
\or
pridie idus maias%
\or
pridie idus iunias%
\or
pridie idus quintiles%
\or
pridie idus sextiles%
\or
pridie idus septembres%
\or
pridie idus octobres%
\or
pridie idus nouembres%
\or
pridie idus decembres
	\fi
}
\newcommand*{\DTMlatinoPridieKalendasNome}[1]{%
	\ifcase#1
\or
pridie kalendas februarias%
\or
pridie kalendas martias%
\or
pridie kalendas apriles%
\or
pridie kalendas maias%
\or
pridie kalendas iunias%
\or
pridie kalendas quintiles%
\or
pridie kalendas sextiles%
\or
pridie kalendas septembres%
\or
pridie kalendas octobres
\or
pridie kalendas nouembres%
\or
pridie kalendas decembres%
\or
pridie kalendas ianuarias%
	\fi
}
\newcommand*{\DTMlatinoKalendis}[1]{%
	\ifcase#1
	\or
kalendis ianuariis%
\or
kalendis februariis
\or
kalendis martiis%
\or
kalendis aprilibus%
\or
kalendis maiis%
\or
kalendis iuniis%
\or
kalendis quintilibus%
\or
kalendis sextilibus%
\or
kalendis septembribus%
\or
kalendis octobribus%
\or
kalendis nouembribus%
\or
kalendis decembribus%
	\fi
}
\newcommand*{\DTMlatinoAnteDiem}[1]{%
	\ifcase#1
	\or
1%
\or
2%
\or
ante diem tertium%
\or
ante diem quartum%
\or
ante diem quintum%
\or
ante diem sextum%
\or
ante diem septimum%
\or
ante diem octavum%
\or
ante diem nonum%
\or
ante diem decimum%
\or
ante diem undecimum%
\or
ante diem duodecimum%
\or
ante diem tertium decimum%
\or
ante diem quartum decimum%
\or
ante diem quintum decimum%
\or
ante diem sextum decimum%
\or
ante diem septimum decimum%
\or
ante diem duodevicesimum%
\or
ante diem undevicesimum%
	\fi
}


\DTMnewdatestyle{latino-test}{%
\renewcommand*\DTMdisplaydate[4]{%
\ifnum##3=1\DTMlatinoKalendis{##2}\fi
\ifnum##3=\DTMlatinoPridieNonae{##2}\DTMlatinoPridieNonaeNome{##2}\fi
\ifnum##3=\DTMlatinoNonae{##2}\DTMlatinoNonaeNome{##2}\fi
\ifnum##3=\DTMlatinoIdus{##2}\DTMlatinoIdusNome{##2}\fi
\ifnum##3=\DTMlatinoMensisDurata{##2}\DTMlatinoPridieKalendasNome{##2}\fi
\ifnum##3=\DTMlatinoPridieIdus{##2}\DTMlatinoPridieIdusNome{##2}\fi
\ifboolexpr{%
	test {\ifnumless{##3}{\DTMlatinoPridieNonae{##2}}} 
	and
	test{\ifnumgreater{##3}{1}}
}{\DTMlatinoAnteDiem{\number\numexpr(\number\DTMlatinoNonae{##2}-\number##3+1)\relax}\space Nonas}{}
\ifboolexpr{%
	test {\ifnumless{##3}{\DTMlatinoPridieIdus{##2}}} 
	and
	test{\ifnumgreater{##3}{\DTMlatinoNonae{##2}}}
}{\number\numexpr(\number\DTMlatinoIdus{##2}-\number##3+1)\relax}{}
\ifboolexpr{%
	test {\ifnumless{##3}{\DTMlatinoMensisDurata{##2}}} 
	and
	test{\ifnumgreater{##3}{\DTMlatinoIdus{##2}}}
}{\number\numexpr(\number\DTMlatinoMensisDurata{##2}-\number##3+2)\relax}{}
}%
}%

